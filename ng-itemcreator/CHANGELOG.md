# 変更履歴 (CHANGELOG)

## v2.0.0 - アニメーション・プロップ対応版 (2024)

### ✨ 新機能

#### アニメーション・プロップシステム
- **Configベースのアニメーション選択**: 8種類のプリセットアニメーションを追加
  - なし、食べる（バーガー）、食べる（サンドイッチ）、飲む（ボトル）、飲む（カップ）、喫煙、薬を飲む、注射
- **Configベースのプロップ選択**: 15種類のプリセットプロップを追加
  - 食べ物系、飲み物系、タバコ系、医療系など
- **カスタム使用時間設定**: アイテムごとに使用時間を個別設定可能（0-60秒、秒単位）

#### 統合アイテムタイプシステム
- **ワンステップ作成**: 全ての効果を1つの画面で設定
- **自動タイプ判定**: 設定した効果から自動的にアイテムタイプを決定
- **効果なしアイテム**: すべての効果を0にすると通常アイテムとして作成

#### 設定のカスタマイズ性向上
- **Config.Limits追加**: 全ての入力値の最小値・最大値・ステップをConfig化
  - weight（重量）: 1-10000g
  - hunger（満腹度）: -100〜100
  - thirst（水分）: -100〜100
  - stress（ストレス）: -100〜100
  - usetime（使用時間）: 0-60秒

### 🔧 改善

#### UI/UX改善
- **管理者メニュー削除**: よりシンプルで使いやすいメニュー構成
- **アイテムタイプ選択画面の削除**: 直接作成画面を表示
- **ドロップダウンメニュー**: アニメーションとプロップを視覚的に選択

#### Export機能強化
- **OX-Inventory Export改善**:
  - プロップ情報の完全サポート（model, bone, pos, rot）
  - スタック設定の正確な反映
  - consume フィールドの追加
  - vec3形式での位置・回転情報の出力

### 🐛 バグ修正
- アイテムタイプが正しく判定されない問題を修正
- nil値のステータスが不正に保存される問題を修正
- プロップ情報がOX-Inventoryに保存されない問題を修正

### 📝 ドキュメント更新
- **README.md**: 完全に書き直し、詳細な説明を追加
  - Config設定ガイド
  - アニメーション・プロップのカスタマイズ方法
  - よく使用されるボーンID一覧
  - トラブルシューティングセクション拡充
- **CHANGELOG.md**: 変更履歴ファイルの追加

---

## v1.5.0 - Export方式移行版

### 🔄 アーキテクチャ変更
- ファイル直接編集からExport方式への移行
- QB-CoreとOX-Inventoryの両システム対応
- リアルタイムアイテム適用（再起動不要）

### ✨ 新機能
- 自動バックアップ機能（タイムスタンプ付き）
- 動的テーブル更新
- エラーハンドリングの改善

### 📦 ファイル構造変更
```
install/
├── qb/itemcreator.lua    # QB-Core用Export
└── ox/itemcreator.lua    # OX-Inventory用Export
```

---

## v1.0.0 - 初回リリース

### ✨ 初期機能
- アイテムの作成・削除
- ジョブベースの権限管理
- 4種類のアイテムタイプ（通常、食べ物、飲み物、ストレス）
- 基本的なバリデーション（アイテム名、URL）

---

## アップグレードガイド

### v1.x → v2.0.0

#### 必須作業
1. **OX-Inventory Exportファイルの更新**
   - `ox_inventory/server/itemcreator.lua` を新しいバージョンに置き換え
   - プロップサポートが追加されています

2. **Configファイルの更新**
   - `shared/config.lua` に `Config.Limits` セクションを追加
   - `Config.Animations` と `Config.Props` セクションを追加

3. **リソースの再起動**
   ```
   restart qb-core
   restart ox_inventory
   restart ng-itemcreator
   ```

#### 互換性
- 既存のアイテムはそのまま動作します
- 新機能は新規作成アイテムのみ有効です
- 既存アイテムの編集機能は今後のバージョンで対応予定

#### 非推奨機能
- なし（すべての機能が引き続き利用可能）

---

## 今後の予定

### v2.1.0 (計画中)
- [ ] アイテム編集機能
- [ ] アイテムプレビュー機能
- [ ] バルクインポート/エクスポート

### v2.2.0 (計画中)
- [ ] アイテムテンプレート機能
- [ ] 詳細なアイテム統計
- [ ] カテゴリ別アイテム管理

### v3.0.0 (検討中)
- [ ] Web管理パネル
- [ ] マルチサーバー対応
- [ ] アイテムマーケットプレイス
