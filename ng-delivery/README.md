# ng-delivery

FiveM用の高度な配達システムスクリプト

## 概要

ng-deliveryは、FiveMサーバー向けの配達システムスクリプトです。プレイヤーは配達拠点で仕事を受け、パッケージを受け取り、市内の様々な場所に配達することができます。難易度の選択、時間制限、報酬システムなど、多くの機能を備えています。

## 特徴

- **複数の難易度**：簡単、普通、難しいの3つの難易度から選択可能
- **リアルな配達体験**：パッケージを持ち運ぶアニメーション、車両操作
- **ox_libのUIシステム**：美しく使いやすいユーザーインターフェース
- **ターゲットシステム互換性**：qb-targetとox_targetの両方に対応
- **報酬システム**：難易度と残り時間に応じた報酬、ランダムなアイテム報酬
- **リアルな配達ルート**：配達完了後は元の拠点に車両を戻すことで報酬を得られる仕組み
- **統計システム**：配達回数と稼ぎの記録、トップ配達者ランキング
- **カスタマイズ可能**：config.luaで簡単に設定変更が可能

## 必要条件

- QBCore Framework
- ox_lib
- oxmysql
- qb-targetまたはox_target（設定ファイルで選択可能）

## インストール方法

1. `ng-delivery`フォルダをサーバーの`resources`ディレクトリに配置します
2. `server.cfg`に`ensure ng-delivery`を追加します
3. サーバーを再起動します

## 使用方法

### プレイヤー向け

- 配達拠点（マップ上にブリップで表示）に行きます
- 拠点付近でターゲットシステム（qb-targetまたはox_target）を使用するか、`/delivery`コマンドを入力します
- 難易度を選択します
- 車両からパッケージを取得し、指定された配達先に届けます
- 配達を完了するか、続けて別の配達を行うかを選択します
- 配達終了時は配達車両で元の拠点に戻り、報酬を受け取ります
- 車両を拠点に戻さなければ報酬が受け取れない仕様になっています
- 統計を確認するには`/deliverystats`コマンドを使用します
- トップ配達者を確認するには`/deliverytop`コマンドを使用します

### 管理者向け

- `shared/config.lua`を編集して、配達場所、報酬、難易度などをカスタマイズできます
- デバッグモードを有効にすることで、開発中の問題を特定しやすくなります

## 設定オプション

`config.lua`で以下の設定をカスタマイズできます：

- 基本設定（デバッグモード、ブリップ表示など）
- ターゲットシステム（`Config.TargetResource`で'qb-target'か'ox_target'を選択）
- ジョブ要件（特定のジョブが必要かどうか）
- 報酬設定（最小/最大報酬、アイテム報酬確率など）
- 車両設定（車両モデル、燃料レベルなど）
- 難易度設定（時間制限、報酬倍率など）
- 配達拠点と配達先の位置
- パッケージタイプとアニメーション

## データベース

スクリプトは自動的に以下のテーブルを作成します：

```sql
CREATE TABLE IF NOT EXISTS player_delivery_stats (
    citizenid VARCHAR(50) PRIMARY KEY,
    deliveries_completed INT DEFAULT 0,
    total_earnings INT DEFAULT 0,
    last_delivery TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
)
```

## コマンド

- `/delivery` - 配達ジョブを開始します（配達拠点の近くで使用）
- `/deliverystats` - あなたの配達統計を表示します
- `/deliverytop` - トップ配達者のランキングを表示します

## サポート

問題や質問がある場合は、作者にお問い合わせください。

## ライセンス

このスクリプトは商用利用が可能です。再配布や改変は許可されていません。