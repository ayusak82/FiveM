# ng-speedlimiter

FiveM用の車両速度制限スクリプトです。一般車両と緊急車両で異なる速度制限を適用します。

## 機能

- 一般車両の速度を200km/hに制限
- 緊急車両の速度を250km/hに制限
- 車両に乗った際に速度制限を通知
- ox_libを使用した美しい通知UI
- 完全なescrow対応

## 必要な依存関係

- qb-core
- ox_lib

## インストール方法

1. `ng-speedlimiter` フォルダをサーバーの `resources` フォルダに配置
2. `server.cfg` に以下を追加:
```cfg
ensure ng-speedlimiter
```
3. サーバーを再起動

## 設定

`shared/config.lua` で以下の設定を変更できます:

### 速度制限設定
```lua
Config.SpeedLimit = {
    Normal = 200,      -- 一般車両の速度制限 (km/h)
    Emergency = 250    -- 緊急車両の速度制限 (km/h)
}
```

### 緊急車両のクラス
```lua
Config.EmergencyVehicleClasses = {
    [18] = true  -- Emergency vehicles
}
```

### 速度制限対象外の車両クラス
```lua
Config.ExemptVehicleClasses = {
    [14] = true,  -- Boats (ボート)
    [15] = true,  -- Helicopters (ヘリコプター)
    [16] = true   -- Planes (飛行機)
}
```

### 通知設定
```lua
Config.Notification = {
    Enabled = true,           -- 通知を有効/無効
    Duration = 5000,          -- 表示時間 (ミリ秒)
    Position = 'top-right'    -- 表示位置
}
```

**通知位置の選択肢:**
- `'top'` - 上部中央
- `'top-right'` - 右上
- `'top-left'` - 左上
- `'bottom'` - 下部中央
- `'bottom-right'` - 右下
- `'bottom-left'` - 左下

### デバッグモード
```lua
Config.Debug = false  -- trueにするとコンソールにログが表示されます
```

## 使用方法

1. プレイヤーが車両に乗ると自動的に速度制限が適用されます
2. 画面に速度制限の通知が表示されます
3. 一般車両では200km/h、緊急車両では250km/hを超えることができません

## 緊急車両について

緊急車両クラス(18)に該当する車両は自動的に250km/hの制限が適用されます。

**緊急車両の例:**
- 救急車
- パトカー
- 消防車
- その他の緊急車両

## 速度制限対象外の車両

以下の車両クラスは速度制限の対象外です:
- **ボート (クラス14)** - 水上を自由に航行できます
- **ヘリコプター (クラス15)** - 制限なく飛行できます
- **飛行機 (クラス16)** - 制限なく飛行できます

これらの車両に乗った際は通知も表示されません。

## トラブルシューティング

### 速度制限が適用されない場合
1. 依存関係が正しくインストールされているか確認してください
2. `Config.Debug = true` に設定してコンソールログを確認してください
3. サーバーログでエラーがないか確認してください

### 通知が表示されない場合
1. ox_libが正しくインストールされているか確認してください
2. `Config.Notification.Enabled = true` になっているか確認してください

## サポート

問題が発生した場合は、以下の情報を含めてお問い合わせください:
- FiveMのバージョン
- 使用しているフレームワークのバージョン
- エラーログ（あれば）
- 問題の詳細な説明

## ライセンス

このスクリプトは販売用として作成されています。
無断での再配布や改変は禁止されています。

## バージョン履歴

### v1.0.0
- 初回リリース
- 一般車両200km/h制限
- 緊急車両250km/h制限
- 速度制限通知機能

## 作者

**NCCGr**

---

© 2024 NCCGr. All rights reserved.
